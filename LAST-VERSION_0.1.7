changes to previous version: added proper initialization of this.event
